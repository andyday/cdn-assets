var J=function(e,t){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},J(e,t)};function Ue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");J(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var q="Invariant Violation",le=Object.setPrototypeOf,Ge=le===void 0?function(e,t){return e.__proto__=t,e}:le,Be=function(e){Ue(t,e);function t(n){n===void 0&&(n=q);var i=e.call(this,typeof n=="number"?q+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return i.framesToPop=1,i.name=q,Ge(i,t.prototype),i}return t}(Error);function g(e,t){if(!e)throw new Be(t)}var De=["debug","log","warn","error","silent"],ze=De.indexOf("log");function F(e){return function(){if(De.indexOf(e)>=ze){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=F("debug"),e.log=F("log"),e.warn=F("warn"),e.error=F("error")})(g||(g={}));function M(e){try{return e()}catch{}}const ce=M(function(){return globalThis})||M(function(){return window})||M(function(){return self})||M(function(){return global})||M(function(){return Function("return this")()});var pe="__",fe=[pe,pe].join("DEV");function qe(){try{return!!__DEV__}catch{return Object.defineProperty(ce,fe,{value:M(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),ce[fe]}}const Y=qe();function j(e){try{return e()}catch{}}var X=j(function(){return globalThis})||j(function(){return window})||j(function(){return self})||j(function(){return global})||j(function(){return j.constructor("return this")()}),H=!1;function Ye(){X&&!j(function(){return"production"})&&!j(function(){return process})&&(Object.defineProperty(X,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),H=!0)}Ye();function Je(){H&&(delete X.process,H=!1)}function m(e,t){if(!!!e)throw new Error(t)}function Le(e){return typeof e=="object"&&e!==null}function Xe(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const He=/\r\n|[\n\r]/g;function W(e,t){let n=0,i=1;for(const r of e.body.matchAll(He)){if(typeof r.index=="number"||Xe(!1),r.index>=t)break;n=r.index+r[0].length,i+=1}return{line:i,column:t+1-n}}function We(e){return we(e.source,W(e.source,e.start))}function we(e,t){const n=e.locationOffset.column-1,i="".padStart(n)+e.body,r=t.line-1,o=e.locationOffset.line-1,s=t.line+o,a=t.line===1?n:0,u=t.column+a,p=`${e.name}:${s}:${u}
`,l=i.split(/\r\n|[\n\r]/g),d=l[r];if(d.length>120){const f=Math.floor(u/80),b=u%80,v=[];for(let T=0;T<d.length;T+=80)v.push(d.slice(T,T+80));return p+he([[`${s} |`,v[0]],...v.slice(1,f+1).map(T=>["|",T]),["|","^".padStart(b)],["|",v[f+1]]])}return p+he([[`${s-1} |`,l[r-1]],[`${s} |`,d],["|","^".padStart(u)],[`${s+1} |`,l[r+1]]])}function he(e){const t=e.filter(([i,r])=>r!==void 0),n=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(n)+(r?" "+r:"")).join(`
`)}function Ze(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class x extends Error{constructor(t,...n){var i,r,o;const{nodes:s,source:a,positions:u,path:p,originalError:l,extensions:d}=Ze(n);super(t),this.name="GraphQLError",this.path=p??void 0,this.originalError=l??void 0,this.nodes=de(Array.isArray(s)?s:s?[s]:void 0);const f=de((i=this.nodes)===null||i===void 0?void 0:i.map(v=>v.loc).filter(v=>v!=null));this.source=a??(f==null||(r=f[0])===null||r===void 0?void 0:r.source),this.positions=u??(f==null?void 0:f.map(v=>v.start)),this.locations=u&&a?u.map(v=>W(a,v)):f==null?void 0:f.map(v=>W(v.source,v.start));const b=Le(l==null?void 0:l.extensions)?l==null?void 0:l.extensions:void 0;this.extensions=(o=d??b)!==null&&o!==void 0?o:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),l!=null&&l.stack?Object.defineProperty(this,"stack",{value:l.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,x):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(t+=`

`+We(n.loc));else if(this.source&&this.locations)for(const n of this.locations)t+=`

`+we(this.source,n);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function de(e){return e===void 0||e.length===0?void 0:e}const je={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Ke=new Set(Object.keys(je));function ve(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&Ke.has(t)}let ye;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(ye||(ye={}));let O;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(O||(O={}));function be(e){return e===9||e===32}function et(e){return e>=48&&e<=57}function Re(e){return e>=97&&e<=122||e>=65&&e<=90}function tt(e){return Re(e)||e===95}function nt(e){return Re(e)||et(e)||e===95}function it(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),r=i.length===1,o=i.length>1&&i.slice(1).every(b=>b.length===0||be(b.charCodeAt(0))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,u=e.endsWith("\\"),p=a||u,l=!(t!=null&&t.minimize)&&(!r||e.length>70||p||o||s);let d="";const f=r&&be(e.charCodeAt(0));return(l&&!f||o)&&(d+=`
`),d+=n,(l||p)&&(d+=`
`),'"""'+d+'"""'}const rt=10,Ve=2;function _(e){return U(e,[])}function U(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return st(e,t);default:return String(e)}}function st(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(ot(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:U(i,n)}else if(Array.isArray(e))return ut(e,n);return at(e,n)}function ot(e){return typeof e.toJSON=="function"}function at(e,t){const n=Object.entries(e);return n.length===0?"{}":t.length>Ve?"["+lt(e)+"]":"{ "+n.map(([r,o])=>r+": "+U(o,t)).join(", ")+" }"}function ut(e,t){if(e.length===0)return"[]";if(t.length>Ve)return"[Array]";const n=Math.min(rt,e.length),i=e.length-n,r=[];for(let o=0;o<n;++o)r.push(U(e[o],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function lt(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const n=e.constructor.name;if(typeof n=="string"&&n!=="")return n}return t}const V=function(t,n){return t instanceof n},ct=5;function pt(e,t){const[n,i]=t?[e,t]:[void 0,e];let r=" Did you mean ";n&&(r+=n+" ");const o=i.map(u=>`"${u}"`);switch(o.length){case 0:return"";case 1:return r+o[0]+"?";case 2:return r+o[0]+" or "+o[1]+"?"}const s=o.slice(0,ct),a=s.pop();return r+s.join(", ")+", or "+a+"?"}function me(e){return e}function ft(e,t){const n=Object.create(null);for(const i of e)n[t(i)]=i;return n}function ie(e,t,n){const i=Object.create(null);for(const r of e)i[t(r)]=n(r);return i}function G(e,t){const n=Object.create(null);for(const i of Object.keys(e))n[i]=t(e[i],i);return n}function ht(e,t){let n=0,i=0;for(;n<e.length&&i<t.length;){let r=e.charCodeAt(n),o=t.charCodeAt(i);if(Q(r)&&Q(o)){let s=0;do++n,s=s*10+r-Z,r=e.charCodeAt(n);while(Q(r)&&s>0);let a=0;do++i,a=a*10+o-Z,o=t.charCodeAt(i);while(Q(o)&&a>0);if(s<a)return-1;if(s>a)return 1}else{if(r<o)return-1;if(r>o)return 1;++n,++i}}return e.length-t.length}const Z=48,dt=57;function Q(e){return!isNaN(e)&&Z<=e&&e<=dt}function vt(e,t){const n=Object.create(null),i=new yt(e),r=Math.floor(e.length*.4)+1;for(const o of t){const s=i.measure(o,r);s!==void 0&&(n[o]=s)}return Object.keys(n).sort((o,s)=>{const a=n[o]-n[s];return a!==0?a:ht(o,s)})}class yt{constructor(t){this._input=t,this._inputLowerCase=t.toLowerCase(),this._inputArray=ge(this._inputLowerCase),this._rows=[new Array(t.length+1).fill(0),new Array(t.length+1).fill(0),new Array(t.length+1).fill(0)]}measure(t,n){if(this._input===t)return 0;const i=t.toLowerCase();if(this._inputLowerCase===i)return 1;let r=ge(i),o=this._inputArray;if(r.length<o.length){const l=r;r=o,o=l}const s=r.length,a=o.length;if(s-a>n)return;const u=this._rows;for(let l=0;l<=a;l++)u[0][l]=l;for(let l=1;l<=s;l++){const d=u[(l-1)%3],f=u[l%3];let b=f[0]=l;for(let v=1;v<=a;v++){const T=r[l-1]===o[v-1]?0:1;let D=Math.min(d[v]+1,f[v-1]+1,d[v-1]+T);if(l>1&&v>1&&r[l-1]===o[v-2]&&r[l-2]===o[v-1]){const E=u[(l-2)%3][v-2];D=Math.min(D,E+1)}D<b&&(b=D),f[v]=D}if(b>n)return}const p=u[s%3][a];return p<=n?p:void 0}}function ge(e){const t=e.length,n=new Array(t);for(let i=0;i<t;++i)n[i]=e.charCodeAt(i);return n}function I(e){if(e==null)return Object.create(null);if(Object.getPrototypeOf(e)===null)return e;const t=Object.create(null);for(const[n,i]of Object.entries(e))t[n]=i;return t}function bt(e){return`"${e.replace(mt,gt)}"`}const mt=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function gt(e){return Ot[e.charCodeAt(0)]}const Ot=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],Tt=Object.freeze({});function Et(e,t,n=je){const i=new Map;for(const E of Object.values(O))i.set(E,St(t,E));let r,o=Array.isArray(e),s=[e],a=-1,u=[],p=e,l,d;const f=[],b=[];do{a++;const E=a===s.length,oe=E&&u.length!==0;if(E){if(l=b.length===0?void 0:f[f.length-1],p=d,d=b.pop(),oe)if(o){p=p.slice();let w=0;for(const[z,ae]of u){const ue=z-w;ae===null?(p.splice(ue,1),w++):p[ue]=ae}}else{p=Object.defineProperties({},Object.getOwnPropertyDescriptors(p));for(const[w,z]of u)p[w]=z}a=r.index,s=r.keys,u=r.edits,o=r.inArray,r=r.prev}else if(d){if(l=o?a:s[a],p=d[l],p==null)continue;f.push(l)}let L;if(!Array.isArray(p)){var v,T;ve(p)||m(!1,`Invalid AST Node: ${_(p)}.`);const w=E?(v=i.get(p.kind))===null||v===void 0?void 0:v.leave:(T=i.get(p.kind))===null||T===void 0?void 0:T.enter;if(L=w==null?void 0:w.call(t,p,l,d,f,b),L===Tt)break;if(L===!1){if(!E){f.pop();continue}}else if(L!==void 0&&(u.push([l,L]),!E))if(ve(L))p=L;else{f.pop();continue}}if(L===void 0&&oe&&u.push([l,p]),E)f.pop();else{var D;r={inArray:o,index:a,keys:s,edits:u,prev:r},o=Array.isArray(p),s=o?p:(D=n[p.kind])!==null&&D!==void 0?D:[],a=-1,u=[],d&&b.push(d),d=p}}while(r!==void 0);return u.length!==0?u[u.length-1][1]:e}function St(e,t){const n=e[t];return typeof n=="object"?n:typeof n=="function"?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function Oe(e){return Et(e,Nt)}const xt=80,Nt={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>c(e.definitions,`

`)},OperationDefinition:{leave(e){const t=h("(",c(e.variableDefinitions,", "),")"),n=c([e.operation,c([e.name,t]),c(e.directives," ")]," ");return(n==="query"?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:i})=>e+": "+t+h(" = ",n)+h(" ",c(i," "))},SelectionSet:{leave:({selections:e})=>S(e)},Field:{leave({alias:e,name:t,arguments:n,directives:i,selectionSet:r}){const o=h("",e,": ")+t;let s=o+h("(",c(n,", "),")");return s.length>xt&&(s=o+h(`(
`,P(c(n,`
`)),`
)`)),c([s,c(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+h(" ",c(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>c(["...",h("on ",e),c(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:i,selectionSet:r})=>`fragment ${e}${h("(",c(n,", "),")")} on ${t} ${h("",c(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?it(e):bt(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+c(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+c(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+h("(",c(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>h("",e,`
`)+c(["schema",c(t," "),S(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>h("",e,`
`)+c(["scalar",t,c(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>h("",e,`
`)+c(["type",t,h("implements ",c(n," & ")),c(i," "),S(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:i,directives:r})=>h("",e,`
`)+t+(Te(n)?h(`(
`,P(c(n,`
`)),`
)`):h("(",c(n,", "),")"))+": "+i+h(" ",c(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:i,directives:r})=>h("",e,`
`)+c([t+": "+n,h("= ",i),c(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:i,fields:r})=>h("",e,`
`)+c(["interface",t,h("implements ",c(n," & ")),c(i," "),S(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:i})=>h("",e,`
`)+c(["union",t,c(n," "),h("= ",c(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:i})=>h("",e,`
`)+c(["enum",t,c(n," "),S(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>h("",e,`
`)+c([t,c(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:i})=>h("",e,`
`)+c(["input",t,c(n," "),S(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:i,locations:r})=>h("",e,`
`)+"directive @"+t+(Te(n)?h(`(
`,P(c(n,`
`)),`
)`):h("(",c(n,", "),")"))+(i?" repeatable":"")+" on "+c(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>c(["extend schema",c(e," "),S(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>c(["extend scalar",e,c(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>c(["extend type",e,h("implements ",c(t," & ")),c(n," "),S(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:i})=>c(["extend interface",e,h("implements ",c(t," & ")),c(n," "),S(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>c(["extend union",e,c(t," "),h("= ",c(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>c(["extend enum",e,c(t," "),S(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>c(["extend input",e,c(t," "),S(n)]," ")}};function c(e,t=""){var n;return(n=e==null?void 0:e.filter(i=>i).join(t))!==null&&n!==void 0?n:""}function S(e){return h(`{
`,P(c(e,`
`)),`
}`)}function h(e,t,n=""){return t!=null&&t!==""?e+t+n:""}function P(e){return h("  ",e.replace(/\n/g,`
  `))}function Te(e){var t;return(t=e==null?void 0:e.some(n=>n.includes(`
`)))!==null&&t!==void 0?t:!1}function K(e,t){switch(e.kind){case O.NULL:return null;case O.INT:return parseInt(e.value,10);case O.FLOAT:return parseFloat(e.value);case O.STRING:case O.ENUM:case O.BOOLEAN:return e.value;case O.LIST:return e.values.map(n=>K(n,t));case O.OBJECT:return ie(e.fields,n=>n.name.value,n=>K(n.value,t));case O.VARIABLE:return t==null?void 0:t[e.name.value]}}function A(e){if(e!=null||m(!1,"Must provide name."),typeof e=="string"||m(!1,"Expected name to be a string."),e.length===0)throw new x("Expected name to be a non-empty string.");for(let t=1;t<e.length;++t)if(!nt(e.charCodeAt(t)))throw new x(`Names must only contain [_a-zA-Z0-9] but "${e}" does not.`);if(!tt(e.charCodeAt(0)))throw new x(`Names must start with [_a-zA-Z] but "${e}" does not.`);return e}function _t(e){if(e==="true"||e==="false"||e==="null")throw new x(`Enum values cannot be named: ${e}`);return A(e)}function re(e){return It(e)||At(e)||Dt(e)||Lt(e)||wt(e)||jt(e)||Rt(e)||Me(e)}function It(e){return V(e,$t)}function At(e){return V(e,Ft)}function Dt(e){return V(e,Pt)}function Lt(e){return V(e,Ut)}function wt(e){return V(e,Bt)}function jt(e){return V(e,qt)}function Rt(e){return V(e,Vt)}function Me(e){return V(e,Mt)}class Vt{constructor(t){re(t)||m(!1,`Expected ${_(t)} to be a GraphQL type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLList"}toString(){return"["+String(this.ofType)+"]"}toJSON(){return this.toString()}}class Mt{constructor(t){kt(t)||m(!1,`Expected ${_(t)} to be a GraphQL nullable type.`),this.ofType=t}get[Symbol.toStringTag](){return"GraphQLNonNull"}toString(){return String(this.ofType)+"!"}toJSON(){return this.toString()}}function kt(e){return re(e)&&!Me(e)}function ke(e){return typeof e=="function"?e():e}function $e(e){return typeof e=="function"?e():e}class $t{constructor(t){var n,i,r,o;const s=(n=t.parseValue)!==null&&n!==void 0?n:me;this.name=A(t.name),this.description=t.description,this.specifiedByURL=t.specifiedByURL,this.serialize=(i=t.serialize)!==null&&i!==void 0?i:me,this.parseValue=s,this.parseLiteral=(r=t.parseLiteral)!==null&&r!==void 0?r:(a,u)=>s(K(a,u)),this.extensions=I(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(o=t.extensionASTNodes)!==null&&o!==void 0?o:[],t.specifiedByURL==null||typeof t.specifiedByURL=="string"||m(!1,`${this.name} must provide "specifiedByURL" as a string, but got: ${_(t.specifiedByURL)}.`),t.serialize==null||typeof t.serialize=="function"||m(!1,`${this.name} must provide "serialize" function. If this custom Scalar is also used as an input type, ensure "parseValue" and "parseLiteral" functions are also provided.`),t.parseLiteral&&(typeof t.parseValue=="function"&&typeof t.parseLiteral=="function"||m(!1,`${this.name} must provide both "parseValue" and "parseLiteral" functions.`))}get[Symbol.toStringTag](){return"GraphQLScalarType"}toConfig(){return{name:this.name,description:this.description,specifiedByURL:this.specifiedByURL,serialize:this.serialize,parseValue:this.parseValue,parseLiteral:this.parseLiteral,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ft{constructor(t){var n;this.name=A(t.name),this.description=t.description,this.isTypeOf=t.isTypeOf,this.extensions=I(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=()=>Qe(t),this._interfaces=()=>Fe(t),t.isTypeOf==null||typeof t.isTypeOf=="function"||m(!1,`${this.name} must provide "isTypeOf" as a function, but got: ${_(t.isTypeOf)}.`)}get[Symbol.toStringTag](){return"GraphQLObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Ce(this.getFields()),isTypeOf:this.isTypeOf,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Fe(e){var t;const n=ke((t=e.interfaces)!==null&&t!==void 0?t:[]);return Array.isArray(n)||m(!1,`${e.name} interfaces must be an Array or a function which returns an Array.`),n}function Qe(e){const t=$e(e.fields);return $(t)||m(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),G(t,(n,i)=>{var r;$(n)||m(!1,`${e.name}.${i} field config must be an object.`),n.resolve==null||typeof n.resolve=="function"||m(!1,`${e.name}.${i} field resolver must be a function if provided, but got: ${_(n.resolve)}.`);const o=(r=n.args)!==null&&r!==void 0?r:{};return $(o)||m(!1,`${e.name}.${i} args must be an object with argument names as keys.`),{name:A(i),description:n.description,type:n.type,args:Qt(o),resolve:n.resolve,subscribe:n.subscribe,deprecationReason:n.deprecationReason,extensions:I(n.extensions),astNode:n.astNode}})}function Qt(e){return Object.entries(e).map(([t,n])=>({name:A(t),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:I(n.extensions),astNode:n.astNode}))}function $(e){return Le(e)&&!Array.isArray(e)}function Ce(e){return G(e,t=>({description:t.description,type:t.type,args:Ct(t.args),resolve:t.resolve,subscribe:t.subscribe,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}function Ct(e){return ie(e,t=>t.name,t=>({description:t.description,type:t.type,defaultValue:t.defaultValue,deprecationReason:t.deprecationReason,extensions:t.extensions,astNode:t.astNode}))}class Pt{constructor(t){var n;this.name=A(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=I(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=Qe.bind(void 0,t),this._interfaces=Fe.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||m(!1,`${this.name} must provide "resolveType" as a function, but got: ${_(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLInterfaceType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}getInterfaces(){return typeof this._interfaces=="function"&&(this._interfaces=this._interfaces()),this._interfaces}toConfig(){return{name:this.name,description:this.description,interfaces:this.getInterfaces(),fields:Ce(this.getFields()),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}class Ut{constructor(t){var n;this.name=A(t.name),this.description=t.description,this.resolveType=t.resolveType,this.extensions=I(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._types=Gt.bind(void 0,t),t.resolveType==null||typeof t.resolveType=="function"||m(!1,`${this.name} must provide "resolveType" as a function, but got: ${_(t.resolveType)}.`)}get[Symbol.toStringTag](){return"GraphQLUnionType"}getTypes(){return typeof this._types=="function"&&(this._types=this._types()),this._types}toConfig(){return{name:this.name,description:this.description,types:this.getTypes(),resolveType:this.resolveType,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Gt(e){const t=ke(e.types);return Array.isArray(t)||m(!1,`Must provide Array of types or a function which returns such an array for Union ${e.name}.`),t}class Bt{constructor(t){var n;this.name=A(t.name),this.description=t.description,this.extensions=I(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._values=zt(this.name,t.values),this._valueLookup=new Map(this._values.map(i=>[i.value,i])),this._nameLookup=ft(this._values,i=>i.name)}get[Symbol.toStringTag](){return"GraphQLEnumType"}getValues(){return this._values}getValue(t){return this._nameLookup[t]}serialize(t){const n=this._valueLookup.get(t);if(n===void 0)throw new x(`Enum "${this.name}" cannot represent value: ${_(t)}`);return n.name}parseValue(t){if(typeof t!="string"){const i=_(t);throw new x(`Enum "${this.name}" cannot represent non-string value: ${i}.`+C(this,i))}const n=this.getValue(t);if(n==null)throw new x(`Value "${t}" does not exist in "${this.name}" enum.`+C(this,t));return n.value}parseLiteral(t,n){if(t.kind!==O.ENUM){const r=Oe(t);throw new x(`Enum "${this.name}" cannot represent non-enum value: ${r}.`+C(this,r),t)}const i=this.getValue(t.value);if(i==null){const r=Oe(t);throw new x(`Value "${r}" does not exist in "${this.name}" enum.`+C(this,r),t)}return i.value}toConfig(){const t=ie(this.getValues(),n=>n.name,n=>({description:n.description,value:n.value,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,values:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function C(e,t){const n=e.getValues().map(r=>r.name),i=vt(t,n);return pt("the enum value",i)}function zt(e,t){return $(t)||m(!1,`${e} values must be an object with value names as keys.`),Object.entries(t).map(([n,i])=>($(i)||m(!1,`${e}.${n} must refer to an object with a "value" key representing an internal value but got: ${_(i)}.`),{name:_t(n),description:i.description,value:i.value!==void 0?i.value:n,deprecationReason:i.deprecationReason,extensions:I(i.extensions),astNode:i.astNode}))}class qt{constructor(t){var n;this.name=A(t.name),this.description=t.description,this.extensions=I(t.extensions),this.astNode=t.astNode,this.extensionASTNodes=(n=t.extensionASTNodes)!==null&&n!==void 0?n:[],this._fields=Yt.bind(void 0,t)}get[Symbol.toStringTag](){return"GraphQLInputObjectType"}getFields(){return typeof this._fields=="function"&&(this._fields=this._fields()),this._fields}toConfig(){const t=G(this.getFields(),n=>({description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:n.extensions,astNode:n.astNode}));return{name:this.name,description:this.description,fields:t,extensions:this.extensions,astNode:this.astNode,extensionASTNodes:this.extensionASTNodes}}toString(){return this.name}toJSON(){return this.toString()}}function Yt(e){const t=$e(e.fields);return $(t)||m(!1,`${e.name} fields must be an object with field names as keys or a function which returns such an object.`),G(t,(n,i)=>(!("resolve"in n)||m(!1,`${e.name}.${i} field has a resolve property, but Input Types cannot define resolvers.`),{name:A(i),description:n.description,type:n.type,defaultValue:n.defaultValue,deprecationReason:n.deprecationReason,extensions:I(n.extensions),astNode:n.astNode}))}function Jt(){return re(null),Je()}function Xt(){__DEV__?g(typeof Y=="boolean",Y):g(typeof Y=="boolean",38)}Jt();Xt();var ee=function(e,t){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])},ee(e,t)};function B(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ee(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var y=function(){return y=Object.assign||function(t){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},y.apply(this,arguments)};const{toString:Ee,hasOwnProperty:Ht}=Object.prototype,Se=Function.prototype.toString,te=new Map;function R(e,t){try{return ne(e,t)}finally{te.clear()}}function ne(e,t){if(e===t)return!0;const n=Ee.call(e),i=Ee.call(t);if(n!==i)return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Ne(e,t))return!0;const r=xe(e),o=xe(t),s=r.length;if(s!==o.length)return!1;for(let a=0;a<s;++a)if(!Ht.call(t,r[a]))return!1;for(let a=0;a<s;++a){const u=r[a];if(!ne(e[u],t[u]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e==`${t}`;case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Ne(e,t))return!0;const r=e.entries(),o=n==="[object Map]";for(;;){const s=r.next();if(s.done)break;const[a,u]=s.value;if(!t.has(a)||o&&!ne(u,t.get(a)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let r=e.byteLength;if(r===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const r=Se.call(e);return r!==Se.call(t)?!1:!Kt(r,Zt)}}return!1}function xe(e){return Object.keys(e).filter(Wt,e)}function Wt(e){return this[e]!==void 0}const Zt="{ [native code] }";function Kt(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}function Ne(e,t){let n=te.get(e);if(n){if(n.has(t))return!0}else te.set(e,n=new Set);return n.add(t),!1}var N;(function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"})(N||(N={}));var _e=new Map;function Ie(e){var t;switch(e){case N.Query:t="Query";break;case N.Mutation:t="Mutation";break;case N.Subscription:t="Subscription";break}return t}function en(e){var t=_e.get(e);if(t)return t;var n,i,r;__DEV__?g(!!e&&!!e.kind,"Argument of "+e+" passed to parser was not a valid GraphQL DocumentNode. You may need to use 'graphql-tag' or another method to convert your operation into a document"):g(!!e&&!!e.kind,34);var o=e.definitions.filter(function(f){return f.kind==="FragmentDefinition"}),s=e.definitions.filter(function(f){return f.kind==="OperationDefinition"&&f.operation==="query"}),a=e.definitions.filter(function(f){return f.kind==="OperationDefinition"&&f.operation==="mutation"}),u=e.definitions.filter(function(f){return f.kind==="OperationDefinition"&&f.operation==="subscription"});__DEV__?g(!o.length||s.length||a.length||u.length,"Passing only a fragment to 'graphql' is not yet supported. You must include a query, subscription or mutation as well"):g(!o.length||s.length||a.length||u.length,35),__DEV__?g(s.length+a.length+u.length<=1,"react-apollo only supports a query, subscription, or a mutation per HOC. "+(e+" had "+s.length+" queries, "+u.length+" ")+("subscriptions and "+a.length+" mutations. ")+"You can use 'compose' to join multiple operation types to a component"):g(s.length+a.length+u.length<=1,36),i=s.length?N.Query:N.Mutation,!s.length&&!a.length&&(i=N.Subscription);var p=s.length?s:a.length?a:u;__DEV__?g(p.length===1,"react-apollo only supports one definition per HOC. "+e+" had "+(p.length+" definitions. ")+"You can use 'compose' to join multiple operation types to a component"):g(p.length===1,37);var l=p[0];n=l.variableDefinitions||[],l.name&&l.name.kind==="Name"?r=l.name.value:r="data";var d={name:r,type:i,variables:n};return _e.set(e,d),d}var se=function(){function e(t,n){this.isMounted=!1,this.previousOptions={},this.context={},this.options={},this.options=t||{},this.context=n||{}}return e.prototype.getOptions=function(){return this.options},e.prototype.setOptions=function(t,n){n===void 0&&(n=!1),n&&!R(this.options,t)&&(this.previousOptions=this.options),this.options=t},e.prototype.unmount=function(){this.isMounted=!1},e.prototype.refreshClient=function(){var t=this.options&&this.options.client||this.context&&this.context.client;__DEV__?g(!!t,'Could not find "client" in the context or passed in as an option. Wrap the root component in an <ApolloProvider>, or pass an ApolloClient instance in via options.'):g(!!t,29);var n=!1;return t!==this.client&&(n=!0,this.client=t,this.cleanup()),{client:this.client,isNew:n}},e.prototype.verifyDocumentType=function(t,n){var i=en(t),r=Ie(n),o=Ie(i.type);__DEV__?g(i.type===n,"Running a "+r+" requires a graphql "+(r+", but a "+o+" was used instead.")):g(i.type===n,30)},e}(),sn=function(e){B(t,e);function t(n){var i=n.options,r=n.context,o=n.setResult,s=e.call(this,i,r)||this;return s.currentObservable={},s.setResult=o,s.initialize(i),s}return t.prototype.execute=function(n){if(this.getOptions().skip===!0)return this.cleanup(),{loading:!1,error:void 0,data:void 0,variables:this.getOptions().variables};var i=n;this.refreshClient().isNew&&(i=this.getLoadingResult());var r=this.getOptions().shouldResubscribe;return typeof r=="function"&&(r=!!r(this.getOptions())),r!==!1&&this.previousOptions&&Object.keys(this.previousOptions).length>0&&(this.previousOptions.subscription!==this.getOptions().subscription||!R(this.previousOptions.variables,this.getOptions().variables)||this.previousOptions.skip!==this.getOptions().skip)&&(this.cleanup(),i=this.getLoadingResult()),this.initialize(this.getOptions()),this.startSubscription(),this.previousOptions=this.getOptions(),y(y({},i),{variables:this.getOptions().variables})},t.prototype.afterExecute=function(){this.isMounted=!0},t.prototype.cleanup=function(){this.endSubscription(),delete this.currentObservable.query},t.prototype.initialize=function(n){this.currentObservable.query||this.getOptions().skip===!0||(this.currentObservable.query=this.refreshClient().client.subscribe({query:n.subscription,variables:n.variables,fetchPolicy:n.fetchPolicy,context:n.context}))},t.prototype.startSubscription=function(){this.currentObservable.subscription||(this.currentObservable.subscription=this.currentObservable.query.subscribe({next:this.updateCurrentData.bind(this),error:this.updateError.bind(this),complete:this.completeSubscription.bind(this)}))},t.prototype.getLoadingResult=function(){return{loading:!0,error:void 0,data:void 0}},t.prototype.updateResult=function(n){this.isMounted&&this.setResult(n)},t.prototype.updateCurrentData=function(n){var i=this.getOptions().onSubscriptionData;this.updateResult({data:n.data,loading:!1,error:void 0}),i&&i({client:this.refreshClient().client,subscriptionData:n})},t.prototype.updateError=function(n){this.updateResult({error:n,loading:!1})},t.prototype.completeSubscription=function(){var n=this;Promise.resolve().then(function(){var i=n.getOptions().onSubscriptionComplete;i&&i(),n.endSubscription()})},t.prototype.endSubscription=function(){this.currentObservable.subscription&&(this.currentObservable.subscription.unsubscribe(),delete this.currentObservable.subscription)},t}(se);function Ae(e){return Array.isArray(e)&&e.length>0}function tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach(function(i){i&&Object.keys(i).forEach(function(r){var o=i[r];o!==void 0&&(n[r]=o)})}),n}var nn=function(e){var t="";if(Ae(e.graphQLErrors)||Ae(e.clientErrors)){var n=(e.graphQLErrors||[]).concat(e.clientErrors||[]);n.forEach(function(i){var r=i?i.message:"Error message not found.";t+=r+`
`})}return e.networkError&&(t+=e.networkError.message+`
`),t=t.replace(/\n$/,""),t},Pe=function(e){B(t,e);function t(n){var i=n.graphQLErrors,r=n.clientErrors,o=n.networkError,s=n.errorMessage,a=n.extraInfo,u=e.call(this,s)||this;return u.graphQLErrors=i||[],u.clientErrors=r||[],u.networkError=o||null,u.message=s||nn(u),u.extraInfo=a,u.__proto__=t.prototype,u}return t}(Error),k;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(k||(k={}));function rn(e,t){return tn(e,t,t.variables&&{variables:y(y({},e.variables),t.variables)})}var on=function(e){B(t,e);function t(n){var i=n.options,r=n.context,o=n.result,s=n.setResult,a=e.call(this,i,r)||this;return a.runMutation=function(u){u===void 0&&(u={}),a.onMutationStart();var p=a.generateNewMutationId();return a.mutate(u).then(function(l){return a.onMutationCompleted(l,p),l}).catch(function(l){var d=a.getOptions().onError;if(a.onMutationError(l,p),d)return d(l),{data:void 0,errors:l};throw l})},a.verifyDocumentType(i.mutation,N.Mutation),a.result=o,a.setResult=s,a.mostRecentMutationId=0,a}return t.prototype.execute=function(n){return this.isMounted=!0,this.verifyDocumentType(this.getOptions().mutation,N.Mutation),[this.runMutation,y(y({},n),{client:this.refreshClient().client})]},t.prototype.afterExecute=function(){return this.isMounted=!0,this.unmount.bind(this)},t.prototype.cleanup=function(){},t.prototype.mutate=function(n){return this.refreshClient().client.mutate(rn(this.getOptions(),n))},t.prototype.onMutationStart=function(){!this.result.loading&&!this.getOptions().ignoreResults&&this.updateResult({loading:!0,error:void 0,data:void 0,called:!0})},t.prototype.onMutationCompleted=function(n,i){var r=this.getOptions(),o=r.onCompleted,s=r.ignoreResults,a=n.data,u=n.errors,p=u&&u.length>0?new Pe({graphQLErrors:u}):void 0,l=function(){return o?o(a):null};this.isMostRecentMutation(i)&&!s&&this.updateResult({called:!0,loading:!1,data:a,error:p}),l()},t.prototype.onMutationError=function(n,i){this.isMostRecentMutation(i)&&this.updateResult({loading:!1,error:n,data:void 0,called:!0})},t.prototype.generateNewMutationId=function(){return++this.mostRecentMutationId},t.prototype.isMostRecentMutation=function(n){return this.mostRecentMutationId===n},t.prototype.updateResult=function(n){if(this.isMounted&&(!this.previousResult||!R(this.previousResult,n)))return this.setResult(n),this.previousResult=n,n},t}(se),an=function(e){B(t,e);function t(n){var i=n.options,r=n.context,o=n.onNewData,s=e.call(this,i,r)||this;return s.runLazy=!1,s.previous=Object.create(null),s.runLazyQuery=function(a){s.cleanup(),s.runLazy=!0,s.lazyOptions=a,s.onNewData()},s.obsRefetch=function(a){var u;return(u=s.currentObservable)===null||u===void 0?void 0:u.refetch(a)},s.obsFetchMore=function(a){var u;return(u=s.currentObservable)===null||u===void 0?void 0:u.fetchMore(a)},s.obsUpdateQuery=function(a){var u;return(u=s.currentObservable)===null||u===void 0?void 0:u.updateQuery(a)},s.obsStartPolling=function(a){var u;(u=s.currentObservable)===null||u===void 0||u.startPolling(a)},s.obsStopPolling=function(){var a;(a=s.currentObservable)===null||a===void 0||a.stopPolling()},s.obsSubscribeToMore=function(a){var u;return(u=s.currentObservable)===null||u===void 0?void 0:u.subscribeToMore(a)},s.onNewData=o,s}return t.prototype.execute=function(){this.refreshClient();var n=this.getOptions(),i=n.skip,r=n.query;return(i||r!==this.previous.query)&&(this.removeQuerySubscription(),this.removeObservable(!i),this.previous.query=r),this.updateObservableQuery(),this.getExecuteSsrResult()||this.getExecuteResult()},t.prototype.executeLazy=function(){return this.runLazy?[this.runLazyQuery,this.execute()]:[this.runLazyQuery,{loading:!1,networkStatus:k.ready,called:!1,data:void 0}]},t.prototype.fetchData=function(){var n=this,i=this.getOptions();return i.skip||i.ssr===!1?!1:new Promise(function(r){return n.startQuerySubscription(r)})},t.prototype.afterExecute=function(n){var i=n===void 0?{}:n,r=i.lazy,o=r===void 0?!1:r;this.isMounted=!0;var s=this.getOptions();return this.currentObservable&&!this.ssrInitiated()&&this.startQuerySubscription(),(!o||this.runLazy)&&this.handleErrorOrCompleted(),this.previousOptions=s,this.unmount.bind(this)},t.prototype.cleanup=function(){this.removeQuerySubscription(),this.removeObservable(!0),delete this.previous.result},t.prototype.getOptions=function(){var n=e.prototype.getOptions.call(this);return this.lazyOptions&&(n.variables=y(y({},n.variables),this.lazyOptions.variables),n.context=y(y({},n.context),this.lazyOptions.context)),this.runLazy&&delete n.skip,n},t.prototype.ssrInitiated=function(){return this.context&&this.context.renderPromises},t.prototype.getExecuteSsrResult=function(){var n=this.getOptions(),i=n.ssr,r=n.skip,o=i===!1,s=this.refreshClient().client.disableNetworkFetches,a=y({loading:!0,networkStatus:k.loading,called:!0,data:void 0,stale:!1,client:this.client},this.observableQueryFields());if(o&&(this.ssrInitiated()||s))return this.previous.result=a,a;if(this.ssrInitiated()){var u=this.getExecuteResult()||a;return u.loading&&!r&&this.context.renderPromises.addQueryPromise(this,function(){return null}),u}},t.prototype.prepareObservableQueryOptions=function(){var n=this.getOptions();this.verifyDocumentType(n.query,N.Query);var i=n.displayName||"Query";return this.ssrInitiated()&&(n.fetchPolicy==="network-only"||n.fetchPolicy==="cache-and-network")&&(n.fetchPolicy="cache-first"),y(y({},n),{displayName:i,context:n.context})},t.prototype.initializeObservableQuery=function(){if(this.ssrInitiated()&&(this.currentObservable=this.context.renderPromises.getSSRObservable(this.getOptions())),!this.currentObservable){var n=this.prepareObservableQueryOptions();this.previous.observableQueryOptions=y(y({},n),{children:void 0}),this.currentObservable=this.refreshClient().client.watchQuery(y({},n)),this.ssrInitiated()&&this.context.renderPromises.registerSSRObservable(this.currentObservable,n)}},t.prototype.updateObservableQuery=function(){if(!this.currentObservable){this.initializeObservableQuery();return}var n=y(y({},this.prepareObservableQueryOptions()),{children:void 0});if(this.getOptions().skip){this.previous.observableQueryOptions=n;return}R(n,this.previous.observableQueryOptions)||(this.previous.observableQueryOptions=n,this.currentObservable.setOptions(n).catch(function(){}))},t.prototype.startQuerySubscription=function(n){var i=this;n===void 0&&(n=this.onNewData),!(this.currentSubscription||this.getOptions().skip)&&(this.currentSubscription=this.currentObservable.subscribe({next:function(r){var o=r.loading,s=r.networkStatus,a=r.data,u=i.previous.result;u&&u.loading===o&&u.networkStatus===s&&R(u.data,a)||n()},error:function(r){if(i.resubscribeToQuery(),!r.hasOwnProperty("graphQLErrors"))throw r;var o=i.previous.result;(o&&o.loading||!R(r,i.previous.error))&&(i.previous.error=r,n())}}))},t.prototype.resubscribeToQuery=function(){this.removeQuerySubscription();var n=this.currentObservable;if(n){var i=n.last;try{n.resetLastResults(),this.startQuerySubscription()}finally{n.last=i}}},t.prototype.getExecuteResult=function(){var n=this.observableQueryFields(),i=this.getOptions();if(i.skip)n=y(y({},n),{data:void 0,error:void 0,loading:!1,networkStatus:k.ready,called:!0});else if(this.currentObservable){var r=this.currentObservable.getCurrentResult(),o=r.data,s=r.loading,a=r.partial,u=r.networkStatus,p=r.errors,l=r.error;if(p&&p.length>0&&(l=new Pe({graphQLErrors:p})),n=y(y({},n),{data:o,loading:s,networkStatus:u,error:l,called:!0}),!s)if(l)Object.assign(n,{data:(this.currentObservable.getLastResult()||{}).data});else{var d=this.currentObservable.options.fetchPolicy,f=i.partialRefetch;if(f&&a&&(!o||Object.keys(o).length===0)&&d!=="cache-only")return Object.assign(n,{loading:!0,networkStatus:k.loading}),n.refetch(),n}}n.client=this.client,this.setOptions(i,!0);var b=this.previous.result;return this.previous.loading=b&&b.loading||!1,n.previousData=b&&(b.data||b.previousData),this.previous.result=n,this.currentObservable&&this.currentObservable.resetQueryStoreErrors(),n},t.prototype.handleErrorOrCompleted=function(){if(!(!this.currentObservable||!this.previous.result)){var n=this.previous.result,i=n.data,r=n.loading,o=n.error;if(!r){var s=this.getOptions(),a=s.query,u=s.variables,p=s.onCompleted,l=s.onError,d=s.skip;if(this.previousOptions&&!this.previous.loading&&R(this.previousOptions.query,a)&&R(this.previousOptions.variables,u))return;p&&!o&&!d?p(i):l&&o&&l(o)}}},t.prototype.removeQuerySubscription=function(){this.currentSubscription&&(this.currentSubscription.unsubscribe(),delete this.currentSubscription)},t.prototype.removeObservable=function(n){this.currentObservable&&(this.currentObservable.tearDownQuery(),n&&delete this.currentObservable)},t.prototype.observableQueryFields=function(){var n;return{variables:(n=this.currentObservable)===null||n===void 0?void 0:n.variables,refetch:this.obsRefetch,fetchMore:this.obsFetchMore,updateQuery:this.obsUpdateQuery,startPolling:this.obsStartPolling,stopPolling:this.obsStopPolling,subscribeToMore:this.obsSubscribeToMore}},t}(se);export{on as MutationData,se as OperationData,an as QueryData,sn as SubscriptionData};
